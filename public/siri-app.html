<html>

<body>

  
<script>
  /*
 * In window A's scripts, with A being on <https://chaichana.org:8080>:
 */
  
    document.addEventListener('DOMContentLoaded', function(){
    
var popup=window.open('https://chaichana.org/siri','targetWindow','width=100,height=100');

// When the popup has fully loaded, if not blocked by a popup blocker:

// This does nothing, assuming the window hasn't changed its location.
popup.postMessage("The user is 'bob' and the password is 'secret'",
                  "https://chaichana.org");

// This will successfully queue a message to be sent to the popup, assuming
// the window hasn't changed its location.
popup.postMessage("hello there!", "https://chaichana.org");

    }, false);
function receiveMessage(event)
{
  console.log(event);
  // event.source is popup
  // event.data is "hi there yourself!  the secret response is: rheeeeet!"
}
window.addEventListener("message", receiveMessage, false);
</script>   
</body>

</html>
